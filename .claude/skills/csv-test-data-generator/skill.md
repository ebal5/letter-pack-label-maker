# CSV Test Data Generator Skill

このSkillは、レターパックラベル用のテストCSVデータを生成します。

## 使用方法

ユーザーが以下のような依頼をした際に、このSkillを起動してください：
- 「テスト用のCSVを生成して」
- 「100件のサンプルデータが欲しい」
- 「エッジケースのCSVを作って」
- 「ストレステスト用のデータを用意して」

## データパターン

### 1. 標準パターン（デフォルト）

実際の使用例に近いリアルなデータ：
- 日本の実在する都道府県、市区町村名
- 一般的な日本人の名前
- 正しい郵便番号形式
- 様々な敬称（様、殿、なし）

### 2. エッジケースパターン

境界値テスト用：
- **長い住所**：最大文字数ギリギリ（35文字×3行）
- **短い住所**：最小限の情報
- **特殊文字**：旧字体、外字、記号
- **長い名前**：会社名、団体名など
- **異なる敬称**：様、殿、御中、各位、なし
- **境界郵便番号**：000-0000、999-9999など

### 3. ストレステストパターン

大量データ生成：
- 指定件数（10、100、1000、10000件）
- ランダムな組み合わせ
- ページ数の確認（4upレイアウトの計算）

### 4. 不正データパターン（バリデーションテスト用）

意図的に不正なデータ：
- 郵便番号の形式エラー
- 必須フィールドの欠落
- 不正な文字コード
- 空行、空白のみの行

## CSV形式

生成されるCSVは、`src/letterpack/csv_parser.py`の仕様に準拠：

```csv
宛先郵便番号,宛先都道府県,宛先市区町村,宛先番地,宛先建物名,宛先名前,宛先敬称,差出人郵便番号,差出人都道府県,差出人市区町村,差出人番地,差出人建物名,差出人名前,差出人敬称
100-0001,東京都,千代田区,千代田1-1,,山田太郎,様,150-0001,東京都,渋谷区,渋谷1-1,,佐藤花子,
```

## 実装方法

`tools/generate_test_csv.py`を実行して、テストCSVデータを生成します。

### 基本的な使用方法

```bash
# 標準パターンで10件生成（デフォルト）
python tools/generate_test_csv.py

# 標準パターンで指定件数生成
python tools/generate_test_csv.py standard 100
python tools/generate_test_csv.py standard 1000

# エッジケースパターン生成
python tools/generate_test_csv.py edge_case

# ストレステストパターン（大量データ）
python tools/generate_test_csv.py stress 5000

# 不正データパターン生成
python tools/generate_test_csv.py invalid
```

### 出力例

```
✅ テストCSVデータを生成しました

【ファイル】
- パス: examples/test_addresses_standard_10.csv
- 件数: 10件
- パターン: 標準
- 推定ページ数: 3ページ（4upレイアウト）

【内容サマリー】
- 宛先: 10件（様: 6件、殿: 2件、なし: 2件）
- 差出人: 10件（様: 1件、なし: 9件）
- 都道府県: 東京都、大阪府、北海道など
- 郵便番号: すべて正しい形式

【次のステップ】
以下のコマンドでラベルを生成できます：
```bash
uv run python -m letterpack.cli --csv examples/test_addresses_standard_10.csv --output output/test_labels.pdf
```
```

## 使用シナリオ

1. **新機能開発テスト**：エッジケースパターンで実装の堅牢性を確認
2. **パフォーマンステスト**：ストレステストパターンで大量データ処理の動作確認
3. **デモンストレーション**：標準パターンでプレゼンテーション用サンプルを生成
4. **バリデーション検証**：不正データパターンでエラーハンドリングを確認
5. **継続的インテグレーション**：テスト自動化に使用
